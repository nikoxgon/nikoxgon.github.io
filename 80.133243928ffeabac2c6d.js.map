{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js.pre-build-optimizer.js"],"names":["__webpack_require__","r","__webpack_exports__","d","Route","RouteRedirect","Router","RouterLink","tslib__WEBPACK_IMPORTED_MODULE_0__","_core_5ba38749_js__WEBPACK_IMPORTED_MODULE_1__","_theme_353a032e_js__WEBPACK_IMPORTED_MODULE_3__","_helpers_c90aaa66_js__WEBPACK_IMPORTED_MODULE_4__","class_1","hostRef","Object","this","url","ionRouteDataChanged","prototype","onUpdate","newValue","emit","onComponentProps","oldValue","keys1","keys","keys2","length","_i","keys1_1","key","connectedCallback","defineProperty","get","component","componentProps","enumerable","configurable","class_2","ionRouteRedirectChanged","propDidChange","from","to","generatePath","segments","filter","s","join","parsePath","path","split","map","trim","writeNavState","root","chain","direction","index","changed","undefined","outlet","route","result","e_1","_a","label","trys","push","searchNavNode","componentOnReady","sent","setRouteId","id","params","element","markVisible","console","error","QUERY","matches","querySelector","routeRedirect","routes","find","input","i","expected","matchesRedirect","matchesIDs","ids","len","Math","min","toLowerCase","matchesPath","inputPath","allparams","RouterSegments","matchesDefault","path_1","segment","data","next","slice","mergeParams","a","b","assign","computePriority","score","level","chain_2","_b","pow","shift","readRedirects","Array","children","el","tagName","readProp","readRoutes","flattenRouterTree","readRouteNodes","node","Error","prop","hasAttribute","getAttribute","nodes","nodes_1","flattenNode","class_3","previousPath","busy","state","lastState","useHash","ionRouteWillChange","ionRouteDidChange","componentWillLoad","debug","document","body","Promise","resolve","window","addEventListener","once","onRoutesChanged","componentDidLoad","onRedirectChanged","bind","onPopState","historyDirection","getPath","writeNavStateRoot","onBackButton","ev","_this","detail","register","back","startsWith","URL","location","href","pathname","setPath","history","waitPromise","printDebug","group","_loop_1","forEach","apply","routes_1","groupEnd","printRoutes","redirects","redirects_1","redirect","printRedirects","navChanged","warn","getRouteId","chains","match","maxMatches","plainIDs","chains_1","routerIDsToChain","chain_1","param","chainToPath","safeWriteNavState","win","replaceState","title","redirectFrom","chains_2","matchedChain","routerPathToChain","unlock","e_2","lock","p","routeEvent","routeChangeEvent","concat","pushState","writePath","loc","hash","prefix","removePrefix","readPath","redirectFromPath","redirectedFrom","class_4","routerDirection","onClick","render","mode","attrs","rel","target","class","color"],"mappings":"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","file":"80.133243928ffeabac2c6d.js","sourcesContent":["var _this = this;\nimport * as tslib_1 from \"tslib\";\nimport { r as registerInstance, c as createEvent, e as getElement, d as getIonMode, h, H as Host } from './core-5ba38749.js';\nimport './config-6ccf652f.js';\nimport { o as openURL, c as createColorClasses } from './theme-353a032e.js';\nimport { e as debounce } from './helpers-c90aaa66.js';\nvar Route = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        /**\n         * Relative path that needs to match in order for this route to apply.\n         *\n         * Accepts paths similar to expressjs so that you can define parameters\n         * in the url /foo/:bar where bar would be available in incoming props.\n         */\n        this.url = '';\n        this.ionRouteDataChanged = createEvent(this, \"ionRouteDataChanged\", 7);\n    }\n    class_1.prototype.onUpdate = function (newValue) {\n        this.ionRouteDataChanged.emit(newValue);\n    };\n    class_1.prototype.onComponentProps = function (newValue, oldValue) {\n        if (newValue === oldValue) {\n            return;\n        }\n        var keys1 = newValue ? Object.keys(newValue) : [];\n        var keys2 = oldValue ? Object.keys(oldValue) : [];\n        if (keys1.length !== keys2.length) {\n            this.onUpdate(newValue);\n            return;\n        }\n        for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n            var key = keys1_1[_i];\n            if (newValue[key] !== oldValue[key]) {\n                this.onUpdate(newValue);\n                return;\n            }\n        }\n    };\n    class_1.prototype.connectedCallback = function () {\n        this.ionRouteDataChanged.emit();\n    };\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"url\": [\"onUpdate\"],\n                \"component\": [\"onUpdate\"],\n                \"componentProps\": [\"onComponentProps\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\nvar RouteRedirect = /** @class */ (function () {\n    function class_2(hostRef) {\n        registerInstance(this, hostRef);\n        this.ionRouteRedirectChanged = createEvent(this, \"ionRouteRedirectChanged\", 7);\n    }\n    class_2.prototype.propDidChange = function () {\n        this.ionRouteRedirectChanged.emit();\n    };\n    class_2.prototype.connectedCallback = function () {\n        this.ionRouteRedirectChanged.emit();\n    };\n    Object.defineProperty(class_2, \"watchers\", {\n        get: function () {\n            return {\n                \"from\": [\"propDidChange\"],\n                \"to\": [\"propDidChange\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return class_2;\n}());\nvar ROUTER_INTENT_NONE = 'root';\nvar ROUTER_INTENT_FORWARD = 'forward';\nvar ROUTER_INTENT_BACK = 'back';\nvar generatePath = function (segments) {\n    var path = segments\n        .filter(function (s) { return s.length > 0; })\n        .join('/');\n    return '/' + path;\n};\nvar chainToPath = function (chain) {\n    var path = [];\n    for (var _i = 0, chain_1 = chain; _i < chain_1.length; _i++) {\n        var route = chain_1[_i];\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\n            var segment = _b[_a];\n            if (segment[0] === ':') {\n                var param = route.params && route.params[segment.slice(1)];\n                if (!param) {\n                    return null;\n                }\n                path.push(param);\n            }\n            else if (segment !== '') {\n                path.push(segment);\n            }\n        }\n    }\n    return path;\n};\nvar writePath = function (history, root, useHash, path, direction, state) {\n    var url = generatePath(parsePath(root).concat(path));\n    if (useHash) {\n        url = '#' + url;\n    }\n    if (direction === ROUTER_INTENT_FORWARD) {\n        history.pushState(state, '', url);\n    }\n    else {\n        history.replaceState(state, '', url);\n    }\n};\nvar removePrefix = function (prefix, path) {\n    if (prefix.length > path.length) {\n        return null;\n    }\n    if (prefix.length <= 1 && prefix[0] === '') {\n        return path;\n    }\n    for (var i = 0; i < prefix.length; i++) {\n        if (prefix[i].length > 0 && prefix[i] !== path[i]) {\n            return null;\n        }\n    }\n    if (path.length === prefix.length) {\n        return [''];\n    }\n    return path.slice(prefix.length);\n};\nvar readPath = function (loc, root, useHash) {\n    var pathname = loc.pathname;\n    if (useHash) {\n        var hash = loc.hash;\n        pathname = (hash[0] === '#')\n            ? hash.slice(1)\n            : '';\n    }\n    var prefix = parsePath(root);\n    var path = parsePath(pathname);\n    return removePrefix(prefix, path);\n};\nvar parsePath = function (path) {\n    if (path == null) {\n        return [''];\n    }\n    var segments = path.split('/')\n        .map(function (s) { return s.trim(); })\n        .filter(function (s) { return s.length > 0; });\n    if (segments.length === 0) {\n        return [''];\n    }\n    else {\n        return segments;\n    }\n};\nvar printRoutes = function (routes) {\n    console.group(\"[ion-core] ROUTES[\" + routes.length + \"]\");\n    var _loop_1 = function (chain) {\n        var path = [];\n        chain.forEach(function (r) { return path.push.apply(path, r.path); });\n        var ids = chain.map(function (r) { return r.id; });\n        console.debug(\"%c \" + generatePath(path), 'font-weight: bold; padding-left: 20px', '=>\\t', \"(\" + ids.join(', ') + \")\");\n    };\n    for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {\n        var chain = routes_1[_i];\n        _loop_1(chain);\n    }\n    console.groupEnd();\n};\nvar printRedirects = function (redirects) {\n    console.group(\"[ion-core] REDIRECTS[\" + redirects.length + \"]\");\n    for (var _i = 0, redirects_1 = redirects; _i < redirects_1.length; _i++) {\n        var redirect = redirects_1[_i];\n        if (redirect.to) {\n            console.debug('FROM: ', \"$c \" + generatePath(redirect.from), 'font-weight: bold', ' TO: ', \"$c \" + generatePath(redirect.to), 'font-weight: bold');\n        }\n    }\n    console.groupEnd();\n};\nvar writeNavState = function (root, chain, direction, index, changed) {\n    if (changed === void 0) { changed = false; }\n    return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        var outlet, route, result, e_1;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 6, , 7]);\n                    outlet = searchNavNode(root);\n                    // make sure we can continue interacting the DOM, otherwise abort\n                    if (index >= chain.length || !outlet) {\n                        return [2 /*return*/, changed];\n                    }\n                    return [4 /*yield*/, outlet.componentOnReady()];\n                case 1:\n                    _a.sent();\n                    route = chain[index];\n                    return [4 /*yield*/, outlet.setRouteId(route.id, route.params, direction)];\n                case 2:\n                    result = _a.sent();\n                    // if the outlet changed the page, reset navigation to neutral (no direction)\n                    // this means nested outlets will not animate\n                    if (result.changed) {\n                        direction = ROUTER_INTENT_NONE;\n                        changed = true;\n                    }\n                    return [4 /*yield*/, writeNavState(result.element, chain, direction, index + 1, changed)];\n                case 3:\n                    // recursively set nested outlets\n                    changed = _a.sent();\n                    if (!result.markVisible) return [3 /*break*/, 5];\n                    return [4 /*yield*/, result.markVisible()];\n                case 4:\n                    _a.sent();\n                    _a.label = 5;\n                case 5: return [2 /*return*/, changed];\n                case 6:\n                    e_1 = _a.sent();\n                    console.error(e_1);\n                    return [2 /*return*/, false];\n                case 7: return [2 /*return*/];\n            }\n        });\n    });\n};\nvar readNavState = function (root) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n    var ids, outlet, node, id;\n    return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                ids = [];\n                node = root;\n                _a.label = 1;\n            case 1:\n                if (!true) return [3 /*break*/, 5];\n                outlet = searchNavNode(node);\n                if (!outlet) return [3 /*break*/, 3];\n                return [4 /*yield*/, outlet.getRouteId()];\n            case 2:\n                id = _a.sent();\n                if (id) {\n                    node = id.element;\n                    id.element = undefined;\n                    ids.push(id);\n                }\n                else {\n                    return [3 /*break*/, 5];\n                }\n                return [3 /*break*/, 4];\n            case 3: return [3 /*break*/, 5];\n            case 4: return [3 /*break*/, 1];\n            case 5: return [2 /*return*/, { ids: ids, outlet: outlet }];\n        }\n    });\n}); };\nvar waitUntilNavNode = function () {\n    if (searchNavNode(document.body)) {\n        return Promise.resolve();\n    }\n    return new Promise(function (resolve) {\n        window.addEventListener('ionNavWillLoad', resolve, { once: true });\n    });\n};\nvar QUERY = ':not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet';\nvar searchNavNode = function (root) {\n    if (!root) {\n        return undefined;\n    }\n    if (root.matches(QUERY)) {\n        return root;\n    }\n    var outlet = root.querySelector(QUERY);\n    return outlet ? outlet : undefined;\n};\nvar matchesRedirect = function (input, route) {\n    var from = route.from, to = route.to;\n    if (to === undefined) {\n        return false;\n    }\n    if (from.length > input.length) {\n        return false;\n    }\n    for (var i = 0; i < from.length; i++) {\n        var expected = from[i];\n        if (expected === '*') {\n            return true;\n        }\n        if (expected !== input[i]) {\n            return false;\n        }\n    }\n    return from.length === input.length;\n};\nvar routeRedirect = function (path, routes) {\n    return routes.find(function (route) { return matchesRedirect(path, route); });\n};\nvar matchesIDs = function (ids, chain) {\n    var len = Math.min(ids.length, chain.length);\n    var i = 0;\n    for (; i < len; i++) {\n        if (ids[i].toLowerCase() !== chain[i].id) {\n            break;\n        }\n    }\n    return i;\n};\nvar matchesPath = function (inputPath, chain) {\n    var segments = new RouterSegments(inputPath);\n    var matchesDefault = false;\n    var allparams;\n    for (var i = 0; i < chain.length; i++) {\n        var path = chain[i].path;\n        if (path[0] === '') {\n            matchesDefault = true;\n        }\n        else {\n            for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\n                var segment = path_1[_i];\n                var data = segments.next();\n                // data param\n                if (segment[0] === ':') {\n                    if (data === '') {\n                        return null;\n                    }\n                    allparams = allparams || [];\n                    var params = allparams[i] || (allparams[i] = {});\n                    params[segment.slice(1)] = data;\n                }\n                else if (data !== segment) {\n                    return null;\n                }\n            }\n            matchesDefault = false;\n        }\n    }\n    var matches = (matchesDefault)\n        ? matchesDefault === (segments.next() === '')\n        : true;\n    if (!matches) {\n        return null;\n    }\n    if (allparams) {\n        return chain.map(function (route, i) { return ({\n            id: route.id,\n            path: route.path,\n            params: mergeParams(route.params, allparams[i])\n        }); });\n    }\n    return chain;\n};\nvar mergeParams = function (a, b) {\n    if (!a && b) {\n        return b;\n    }\n    else if (a && !b) {\n        return a;\n    }\n    else if (a && b) {\n        return Object.assign({}, a, b);\n    }\n    return undefined;\n};\nvar routerIDsToChain = function (ids, chains) {\n    var match = null;\n    var maxMatches = 0;\n    var plainIDs = ids.map(function (i) { return i.id; });\n    for (var _i = 0, chains_1 = chains; _i < chains_1.length; _i++) {\n        var chain = chains_1[_i];\n        var score = matchesIDs(plainIDs, chain);\n        if (score > maxMatches) {\n            match = chain;\n            maxMatches = score;\n        }\n    }\n    if (match) {\n        return match.map(function (route, i) { return ({\n            id: route.id,\n            path: route.path,\n            params: mergeParams(route.params, ids[i] && ids[i].params)\n        }); });\n    }\n    return null;\n};\nvar routerPathToChain = function (path, chains) {\n    var match = null;\n    var matches = 0;\n    for (var _i = 0, chains_2 = chains; _i < chains_2.length; _i++) {\n        var chain = chains_2[_i];\n        var matchedChain = matchesPath(path, chain);\n        if (matchedChain !== null) {\n            var score = computePriority(matchedChain);\n            if (score > matches) {\n                matches = score;\n                match = matchedChain;\n            }\n        }\n    }\n    return match;\n};\nvar computePriority = function (chain) {\n    var score = 1;\n    var level = 1;\n    for (var _i = 0, chain_2 = chain; _i < chain_2.length; _i++) {\n        var route = chain_2[_i];\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\n            var path = _b[_a];\n            if (path[0] === ':') {\n                score += Math.pow(1, level);\n            }\n            else if (path !== '') {\n                score += Math.pow(2, level);\n            }\n            level++;\n        }\n    }\n    return score;\n};\nvar RouterSegments = /** @class */ (function () {\n    function RouterSegments(path) {\n        this.path = path.slice();\n    }\n    RouterSegments.prototype.next = function () {\n        if (this.path.length > 0) {\n            return this.path.shift();\n        }\n        return '';\n    };\n    return RouterSegments;\n}());\nvar readRedirects = function (root) {\n    return Array.from(root.children)\n        .filter(function (el) { return el.tagName === 'ION-ROUTE-REDIRECT'; })\n        .map(function (el) {\n        var to = readProp(el, 'to');\n        return {\n            from: parsePath(readProp(el, 'from')),\n            to: to == null ? undefined : parsePath(to),\n        };\n    });\n};\nvar readRoutes = function (root) {\n    return flattenRouterTree(readRouteNodes(root));\n};\nvar readRouteNodes = function (root, node) {\n    if (node === void 0) { node = root; }\n    return Array.from(node.children)\n        .filter(function (el) { return el.tagName === 'ION-ROUTE' && el.component; })\n        .map(function (el) {\n        var component = readProp(el, 'component');\n        if (component == null) {\n            throw new Error('component missing in ion-route');\n        }\n        return {\n            path: parsePath(readProp(el, 'url')),\n            id: component.toLowerCase(),\n            params: el.componentProps,\n            children: readRouteNodes(root, el)\n        };\n    });\n};\nvar readProp = function (el, prop) {\n    if (prop in el) {\n        return el[prop];\n    }\n    if (el.hasAttribute(prop)) {\n        return el.getAttribute(prop);\n    }\n    return null;\n};\nvar flattenRouterTree = function (nodes) {\n    var routes = [];\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n        flattenNode([], routes, node);\n    }\n    return routes;\n};\nvar flattenNode = function (chain, routes, node) {\n    var s = chain.slice();\n    s.push({\n        id: node.id,\n        path: node.path,\n        params: node.params\n    });\n    if (node.children.length === 0) {\n        routes.push(s);\n        return;\n    }\n    for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n        var sub = _a[_i];\n        flattenNode(s, routes, sub);\n    }\n};\nvar Router = /** @class */ (function () {\n    function class_3(hostRef) {\n        registerInstance(this, hostRef);\n        this.previousPath = null;\n        this.busy = false;\n        this.state = 0;\n        this.lastState = 0;\n        /**\n         * By default `ion-router` will match the routes at the root path (\"/\").\n         * That can be changed when\n         *\n         */\n        this.root = '/';\n        /**\n         * The router can work in two \"modes\":\n         * - With hash: `/index.html#/path/to/page`\n         * - Without hash: `/path/to/page`\n         *\n         * Using one or another might depend in the requirements of your app and/or where it's deployed.\n         *\n         * Usually \"hash-less\" navigation works better for SEO and it's more user friendly too, but it might\n         * requires additional server-side configuration in order to properly work.\n         *\n         * On the otherside hash-navigation is much easier to deploy, it even works over the file protocol.\n         *\n         * By default, this property is `true`, change to `false` to allow hash-less URLs.\n         */\n        this.useHash = true;\n        this.ionRouteWillChange = createEvent(this, \"ionRouteWillChange\", 7);\n        this.ionRouteDidChange = createEvent(this, \"ionRouteDidChange\", 7);\n    }\n    class_3.prototype.componentWillLoad = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.debug('[ion-router] router will load');\n                        return [4 /*yield*/, waitUntilNavNode()];\n                    case 1:\n                        _a.sent();\n                        console.debug('[ion-router] found nav');\n                        return [4 /*yield*/, this.onRoutesChanged()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_3.prototype.componentDidLoad = function () {\n        window.addEventListener('ionRouteRedirectChanged', debounce(this.onRedirectChanged.bind(this), 10));\n        window.addEventListener('ionRouteDataChanged', debounce(this.onRoutesChanged.bind(this), 100));\n    };\n    class_3.prototype.onPopState = function () {\n        var direction = this.historyDirection();\n        var path = this.getPath();\n        console.debug('[ion-router] URL changed -> update nav', path, direction);\n        return this.writeNavStateRoot(path, direction);\n    };\n    class_3.prototype.onBackButton = function (ev) {\n        var _this = this;\n        ev.detail.register(0, function () { return _this.back(); });\n    };\n    /**\n     * Navigate to the specified URL.\n     *\n     * @param url The url to navigate to.\n     * @param direction The direction of the animation. Defaults to `\"forward\"`.\n     */\n    class_3.prototype.push = function (url, direction) {\n        if (direction === void 0) { direction = 'forward'; }\n        if (url.startsWith('.')) {\n            url = (new URL(url, window.location.href)).pathname;\n        }\n        console.debug('[ion-router] URL pushed -> updating nav', url, direction);\n        var path = parsePath(url);\n        this.setPath(path, direction);\n        return this.writeNavStateRoot(path, direction);\n    };\n    /**\n     * Go back to previous page in the window.history.\n     */\n    class_3.prototype.back = function () {\n        window.history.back();\n        return Promise.resolve(this.waitPromise);\n    };\n    /** @internal */\n    class_3.prototype.printDebug = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                console.debug('CURRENT PATH', this.getPath());\n                console.debug('PREVIOUS PATH', this.previousPath);\n                printRoutes(readRoutes(this.el));\n                printRedirects(readRedirects(this.el));\n                return [2 /*return*/];\n            });\n        });\n    };\n    /** @internal */\n    class_3.prototype.navChanged = function (direction) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, ids, outlet, routes, chain, path;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (this.busy) {\n                            console.warn('[ion-router] router is busy, navChanged was cancelled');\n                            return [2 /*return*/, false];\n                        }\n                        return [4 /*yield*/, readNavState(window.document.body)];\n                    case 1:\n                        _a = _b.sent(), ids = _a.ids, outlet = _a.outlet;\n                        routes = readRoutes(this.el);\n                        chain = routerIDsToChain(ids, routes);\n                        if (!chain) {\n                            console.warn('[ion-router] no matching URL for ', ids.map(function (i) { return i.id; }));\n                            return [2 /*return*/, false];\n                        }\n                        path = chainToPath(chain);\n                        if (!path) {\n                            console.warn('[ion-router] router could not match path because some required param is missing');\n                            return [2 /*return*/, false];\n                        }\n                        console.debug('[ion-router] nav changed -> update URL', ids, path);\n                        this.setPath(path, direction);\n                        return [4 /*yield*/, this.safeWriteNavState(outlet, chain, ROUTER_INTENT_NONE, path, null, ids.length)];\n                    case 2:\n                        _b.sent();\n                        return [2 /*return*/, true];\n                }\n            });\n        });\n    };\n    class_3.prototype.onRedirectChanged = function () {\n        var path = this.getPath();\n        if (path && routeRedirect(path, readRedirects(this.el))) {\n            this.writeNavStateRoot(path, ROUTER_INTENT_NONE);\n        }\n    };\n    class_3.prototype.onRoutesChanged = function () {\n        return this.writeNavStateRoot(this.getPath(), ROUTER_INTENT_NONE);\n    };\n    class_3.prototype.historyDirection = function () {\n        var win = window;\n        if (win.history.state === null) {\n            this.state++;\n            win.history.replaceState(this.state, win.document.title, win.document.location && win.document.location.href);\n        }\n        var state = win.history.state;\n        var lastState = this.lastState;\n        this.lastState = state;\n        if (state > lastState) {\n            return ROUTER_INTENT_FORWARD;\n        }\n        else if (state < lastState) {\n            return ROUTER_INTENT_BACK;\n        }\n        else {\n            return ROUTER_INTENT_NONE;\n        }\n    };\n    class_3.prototype.writeNavStateRoot = function (path, direction) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var redirects, redirect, redirectFrom, routes, chain;\n            return tslib_1.__generator(this, function (_a) {\n                if (!path) {\n                    console.error('[ion-router] URL is not part of the routing set');\n                    return [2 /*return*/, false];\n                }\n                redirects = readRedirects(this.el);\n                redirect = routeRedirect(path, redirects);\n                redirectFrom = null;\n                if (redirect) {\n                    this.setPath(redirect.to, direction);\n                    redirectFrom = redirect.from;\n                    path = redirect.to;\n                }\n                routes = readRoutes(this.el);\n                chain = routerPathToChain(path, routes);\n                if (!chain) {\n                    console.error('[ion-router] the path does not match any route');\n                    return [2 /*return*/, false];\n                }\n                // write DOM give\n                return [2 /*return*/, this.safeWriteNavState(document.body, chain, direction, path, redirectFrom)];\n            });\n        });\n    };\n    class_3.prototype.safeWriteNavState = function (node, chain, direction, path, redirectFrom, index) {\n        if (index === void 0) { index = 0; }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var unlock, changed, e_2;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.lock()];\n                    case 1:\n                        unlock = _a.sent();\n                        changed = false;\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.writeNavState(node, chain, direction, path, redirectFrom, index)];\n                    case 3:\n                        changed = _a.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_2 = _a.sent();\n                        console.error(e_2);\n                        return [3 /*break*/, 5];\n                    case 5:\n                        unlock();\n                        return [2 /*return*/, changed];\n                }\n            });\n        });\n    };\n    class_3.prototype.lock = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var p, resolve;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        p = this.waitPromise;\n                        this.waitPromise = new Promise(function (r) { return resolve = r; });\n                        if (!(p !== undefined)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, p];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, resolve];\n                }\n            });\n        });\n    };\n    class_3.prototype.writeNavState = function (node, chain, direction, path, redirectFrom, index) {\n        if (index === void 0) { index = 0; }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var routeEvent, changed;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.busy) {\n                            console.warn('[ion-router] router is busy, transition was cancelled');\n                            return [2 /*return*/, false];\n                        }\n                        this.busy = true;\n                        routeEvent = this.routeChangeEvent(path, redirectFrom);\n                        if (routeEvent) {\n                            this.ionRouteWillChange.emit(routeEvent);\n                        }\n                        return [4 /*yield*/, writeNavState(node, chain, direction, index)];\n                    case 1:\n                        changed = _a.sent();\n                        this.busy = false;\n                        if (changed) {\n                            console.debug('[ion-router] route changed', path);\n                        }\n                        // emit did change\n                        if (routeEvent) {\n                            this.ionRouteDidChange.emit(routeEvent);\n                        }\n                        return [2 /*return*/, changed];\n                }\n            });\n        });\n    };\n    class_3.prototype.setPath = function (path, direction) {\n        this.state++;\n        writePath(window.history, this.root, this.useHash, path, direction, this.state);\n    };\n    class_3.prototype.getPath = function () {\n        return readPath(window.location, this.root, this.useHash);\n    };\n    class_3.prototype.routeChangeEvent = function (path, redirectFromPath) {\n        var from = this.previousPath;\n        var to = generatePath(path);\n        this.previousPath = to;\n        if (to === from) {\n            return null;\n        }\n        var redirectedFrom = redirectFromPath ? generatePath(redirectFromPath) : null;\n        return {\n            from: from,\n            redirectedFrom: redirectedFrom,\n            to: to,\n        };\n    };\n    Object.defineProperty(class_3.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return class_3;\n}());\nvar RouterLink = /** @class */ (function () {\n    function class_4(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /**\n         * When using a router, it specifies the transition direction when navigating to\n         * another page using `href`.\n         */\n        this.routerDirection = 'forward';\n        this.onClick = function (ev) {\n            openURL(_this.href, ev, _this.routerDirection);\n        };\n    }\n    class_4.prototype.render = function () {\n        var _a;\n        var mode = getIonMode(this);\n        var attrs = {\n            href: this.href,\n            rel: this.rel,\n            target: this.target\n        };\n        return (h(Host, { onClick: this.onClick, class: Object.assign({}, createColorClasses(this.color), (_a = {}, _a[mode] = true, _a['ion-activatable'] = true, _a)) }, h(\"a\", Object.assign({}, attrs), h(\"slot\", null))));\n    };\n    Object.defineProperty(class_4, \"style\", {\n        get: function () { return \":host{--background:transparent;--color:var(--ion-color-primary,#3880ff);background:var(--background);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}a{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return class_4;\n}());\nexport { Route as ion_route, RouteRedirect as ion_route_redirect, Router as ion_router, RouterLink as ion_router_link };\n"],"sourceRoot":""}